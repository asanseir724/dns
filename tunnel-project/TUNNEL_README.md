# ุณุณุชู ุชุงูู ุฎูุฏฺฉุงุฑ ุจู ุณุฑูุฑ ุงุฑุงู ู ุฎุงุฑุฌ

ุงู ูุฌููุนู ุงุณฺฉุฑูพุชโูุง ุจุฑุง ุงุฌุงุฏ ุชุงูู ุงูู ุจู ุณุฑูุฑ ุงุฑุงู ู ุณุฑูุฑ ุฎุงุฑุฌ ุงุฒ ุงุฑุงู ุทุฑุงุญ ุดุฏู ุงุณุช.

## ูุงูโูุง ููุฌูุฏ

- `install_tunnel.sh` - ุงุณฺฉุฑูพุช ูุตุจ ุฎูุฏฺฉุงุฑ ุฑู ูุฑ ุฏู ุณุฑูุฑ
- `setup_tunnel.sh` - ุงุณฺฉุฑูพุช ุชูุธู ุงููู ู ฺฉุงููฺฏ
- `tunnel_client.sh` - ุงุณฺฉุฑูพุช ฺฉูุงูุช ุจุฑุง ุณุฑูุฑ ุงุฑุงู
- `tunnel_server.sh` - ุงุณฺฉุฑูพุช ุณุฑูุฑ ุจุฑุง ุณุฑูุฑ ุฎุงุฑุฌ
- `tunnel_manager.sh` - ุงุณฺฉุฑูพุช ูุฏุฑุช ู ูุงูุชูุฑูฺฏ
- `README.md` - ุงู ูุงู ุฑุงูููุง

## ูฺฺฏโูุง

### ๐ **ูุตุจ ุฎูุฏฺฉุงุฑ**
- ูุตุจ ูุงุจุณุชฺฏโูุง ููุฑุฏ ูุงุฒ
- ุชูุธู ูุงุฑูุงู ู SSH
- ุงุฌุงุฏ ุณุฑูุณโูุง systemd
- ูุฏุฑุช ุฎูุฏฺฉุงุฑ ุณุฑูุณโูุง

### ๐ **ุงููุช ุจุงูุง**
- ุงุณุชูุงุฏู ุงุฒ ฺฉูุฏูุง SSH
- ุบุฑูุนุงู ฺฉุฑุฏู ูุฑูุฏ ุจุง ุฑูุฒ ุนุจูุฑ
- ุชูุธู ูุงุฑูุงู ููุงุณุจ
- ูุงฺฏโฺฏุฑ ฺฉุงูู

### ๐ **ูุงูุชูุฑูฺฏ ูพุดุฑูุชู**
- ููุงุด ูุถุนุช ุฒูุฏู ุชุงูู
- ุชุณุช ุณุฑุนุช ู ุชุฃุฎุฑ
- ููุงุด ุขูุงุฑ ุณุณุชู
- ูุงฺฏโฺฏุฑ ุฌุงูุน

### ๐ง **ูุฏุฑุช ุขุณุงู**
- ุฏุณุชูุฑุงุช ุณุงุฏู ู ูุงุจู ููู
- ุฑุงุจุท ฺฉุงุฑุจุฑ ุฑูฺฏ
- ูุฏุฑุช ุฎุทุงูุง ุฎูุฏฺฉุงุฑ
- ูพุดุชุจุงูโฺฏุฑ ู ุจุงุฒฺฏุฑุฏุงู

## ูุญูู ุงุณุชูุงุฏู

### ูุตุจ ุงููู

```bash
# ฺฉูพ ูุงูโูุง ุฑู ูุฑ ุฏู ุณุฑูุฑ
scp *.sh user@server:/path/to/directory/

# ุงุฌุฑุง ูุตุจ ุฎูุฏฺฉุงุฑ
./install_tunnel.sh
```

### ุชูุธู ุงููู

```bash
# ุชูุธู ุงููู (ุฑู ูุฑ ุฏู ุณุฑูุฑ)
tunnel setup

# ุงูุชุฎุงุจ ููุน ุณุฑูุฑ:
# 1) ุณุฑูุฑ ุงุฑุงู (ฺฉูุงูุช)
# 2) ุณุฑูุฑ ุฎุงุฑุฌ (ุณุฑูุฑ)
```

### ูุฏุฑุช ุชุงูู

```bash
# ุดุฑูุน ุชุงูู
tunnel start

# ูุชููู ฺฉุฑุฏู ุชุงูู
tunnel stop

# ุจุฑุฑุณ ูุถุนุช
tunnel status

# ูุงูุชูุฑูฺฏ ุฒูุฏู
tunnel monitor
```

## ุชูุธูุงุช ุณุฑูุฑูุง

### ุณุฑูุฑ ุงุฑุงู (ฺฉูุงูุช)

```bash
# ุงุทูุงุนุงุช ููุฑุฏ ูุงุฒ:
# - ุขุฏุฑุณ IP ุณุฑูุฑ ุฎุงุฑุฌ
# - ูพูุฑุช SSH ุณุฑูุฑ ุฎุงุฑุฌ
# - ูุงู ฺฉุงุฑุจุฑ ุณุฑูุฑ ุฎุงุฑุฌ
# - ูพูุฑุช ูุญู ุจุฑุง ุชุงูู
# - ูพูุฑุช ุชุงูู ุฑู ุณุฑูุฑ ุฎุงุฑุฌ
```

### ุณุฑูุฑ ุฎุงุฑุฌ (ุณุฑูุฑ)

```bash
# ุงุทูุงุนุงุช ููุฑุฏ ูุงุฒ:
# - ูพูุฑุช SSH ุจุฑุง ุชุงูู
# - ูพูุฑุช ุชุงูู
# - ฺฉูุฏ ุนููู SSH ุงุฒ ุณุฑูุฑ ุงุฑุงู
```

## ูุซุงูโูุง ฺฉุงุฑุจุฑุฏ

### ุชูุธู ุณุฑูุฑ ุฎุงุฑุฌ

```bash
# ุฑู ุณุฑูุฑ ุฎุงุฑุฌ
./install_tunnel.sh
tunnel setup
# ุงูุชุฎุงุจ ฺฏุฒูู 2 (ุณุฑูุฑ ุฎุงุฑุฌ)
# ูพูุฑุช SSH: 2222
# ูพูุฑุช ุชุงูู: 1080

# ุงุถุงูู ฺฉุฑุฏู ฺฉูุฏ ุนููู ุงุฒ ุณุฑูุฑ ุงุฑุงู
tunnel addkey "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQ..."

# ุดุฑูุน ุณุฑูุณ SSH
tunnel start
```

### ุชูุธู ุณุฑูุฑ ุงุฑุงู

```bash
# ุฑู ุณุฑูุฑ ุงุฑุงู
./install_tunnel.sh
tunnel setup
# ุงูุชุฎุงุจ ฺฏุฒูู 1 (ุณุฑูุฑ ุงุฑุงู)
# ุขุฏุฑุณ ุณุฑูุฑ ุฎุงุฑุฌ: 1.2.3.4
# ูพูุฑุช SSH: 2222
# ูุงู ฺฉุงุฑุจุฑ: tunnel
# ูพูุฑุช ูุญู: 8080

# ุชูุธู ฺฉูุฏ SSH
tunnel setup

# ุดุฑูุน ุชุงูู
tunnel start
```

### ูุงูุชูุฑูฺฏ

```bash
# ุจุฑุฑุณ ูุถุนุช ฺฉู
tunnel status

# ูุงูุชูุฑูฺฏ ุฒูุฏู
tunnel monitor

# ุชุณุช ุณุฑุนุช
tunnel-manager speed

# ููุงุด ูุงฺฏโูุง
tunnel-manager logs
```

## ุณุงุฎุชุงุฑ ูุงูโูุง

```
/etc/tunnel/
โโโ config.conf          # ุชูุธูุงุช ุงุตู
โโโ default.conf         # ุงูฺฏู ุชูุธูุงุช
โโโ ssh/
    โโโ authorized_keys  # ฺฉูุฏูุง ูุฌุงุฒ

/opt/tunnel/
โโโ tunnel_client.sh    # ุงุณฺฉุฑูพุช ฺฉูุงูุช
โโโ tunnel_server.sh    # ุงุณฺฉุฑูพุช ุณุฑูุฑ
โโโ tunnel_manager.sh   # ุงุณฺฉุฑูพุช ูุฏุฑุช
โโโ setup_tunnel.sh     # ุงุณฺฉุฑูพุช ุชูุธู

/var/log/tunnel/
โโโ tunnel.log          # ูุงฺฏ ฺฉูุงูุช
โโโ tunnel-server.log   # ูุงฺฏ ุณุฑูุฑ
โโโ tunnel-manager.log  # ูุงฺฏ ูุฏุฑุช
```

## ุณุฑูุณโูุง systemd

- `iran-tunnel.service` - ุณุฑูุณ ฺฉูุงูุช
- `foreign-tunnel.service` - ุณุฑูุณ ุณุฑูุฑ

## ุฏุณุชูุฑุงุช ููุฏ

### ูุฏุฑุช ุณุฑูุณโูุง

```bash
# ูุนุงูโุณุงุฒ ุณุฑูุณ
sudo systemctl enable iran-tunnel
sudo systemctl enable foreign-tunnel

# ุดุฑูุน ุณุฑูุณ
sudo systemctl start iran-tunnel
sudo systemctl start foreign-tunnel

# ุจุฑุฑุณ ูุถุนุช
sudo systemctl status iran-tunnel
sudo systemctl status foreign-tunnel
```

### ูุฏุฑุช ูุงุฑูุงู

```bash
# Ubuntu/Debian
sudo ufw status
sudo ufw allow 2222/tcp

# CentOS/RHEL/Fedora
sudo firewall-cmd --list-ports
sudo firewall-cmd --permanent --add-port=2222/tcp
```

### ูุฏุฑุช SSH

```bash
# ุจุฑุฑุณ ูุถุนุช SSH
sudo systemctl status ssh

# ุฑุงูโุงูุฏุงุฒ ูุฌุฏุฏ SSH
sudo systemctl restart ssh

# ููุงุด ูุงฺฏโูุง SSH
sudo tail -f /var/log/auth.log | grep ssh
```

## ุนุจโุงุจ

### ูุดฺฉูุงุช ุฑุงุฌ

1. **ุงุชุตุงู ุจุฑูุฑุงุฑ ููโุดูุฏ**
   ```bash
   # ุจุฑุฑุณ ูพูุฑุชโูุง
   netstat -tulnp | grep :2222
   
   # ุชุณุช ุงุชุตุงู
   nc -z server_ip 2222
   ```

2. **ุฎุทุง ุฏุณุชุฑุณ SSH**
   ```bash
   # ุจุฑุฑุณ ูุฌูุฒูุง ฺฉูุฏ
   chmod 600 ~/.ssh/tunnel_key
   chmod 700 ~/.ssh
   
   # ุชุณุช ุงุชุตุงู SSH
   ssh -i ~/.ssh/tunnel_key tunnel@server_ip -p 2222
   ```

3. **ุชุงูู ูุทุน ูโุดูุฏ**
   ```bash
   # ุจุฑุฑุณ ูุงฺฏโูุง
   tail -f /var/log/tunnel.log
   
   # ุฑุงูโุงูุฏุงุฒ ูุฌุฏุฏ
   tunnel restart
   ```

### ูุงฺฏโูุง ู ูุงูโูุง ููู

- ูุงฺฏ ฺฉูุงูุช: `/var/log/tunnel.log`
- ูุงฺฏ ุณุฑูุฑ: `/var/log/tunnel-server.log`
- ูุงฺฏ SSH: `/var/log/auth.log`
- ุชูุธูุงุช: `/etc/tunnel/config.conf`

## ุงููุช

### ูฺฉุงุช ุงููุช

1. **ุงุณุชูุงุฏู ุงุฒ ฺฉูุฏูุง ูู**
   - ุญุฏุงูู 4096 ุจุช ุจุฑุง ฺฉูุฏ RSA
   - ุงุณุชูุงุฏู ุงุฒ ฺฉูุฏูุง ED25519

2. **ุชูุธู ูุงุฑูุงู**
   - ุจุงุฒ ฺฉุฑุฏู ููุท ูพูุฑุชโูุง ุถุฑูุฑ
   - ูุญุฏูุฏ ฺฉุฑุฏู ุฏุณุชุฑุณ ุจู IP ูุง ุฎุงุต

3. **ูุงูุชูุฑูฺฏ**
   - ุจุฑุฑุณ ููุธู ูุงฺฏโูุง
   - ูุธุงุฑุช ุจุฑ ุงุชุตุงูุงุช ุบุฑุนุงุฏ

4. **ุจูโุฑูุฒุฑุณุงู**
   - ุจูโุฑูุฒุฑุณุงู ููุธู ุณุณุชู
   - ุจูโุฑูุฒุฑุณุงู ฺฉูุฏูุง SSH

## ูพุดุชุจุงู

ุจุฑุง ฺฏุฒุงุฑุด ูุดฺฉูุงุช ุง ูพุดููุงุฏุงุช:

1. ูุณุฎู ุณุณุชู ุนุงูู
2. ูุณุฎู ุงุณฺฉุฑูพุชโูุง
3. ูุงฺฏโูุง ุฎุทุง
4. ุชูุธูุงุช ฺฉุงููฺฏ

---

**ูฺฉุชู**: ุงู ุงุณฺฉุฑูพุชโูุง ุจุฑุง ุงุณุชูุงุฏู ุฏุฑ ูุญุทโูุง ุชููุฏ ุทุฑุงุญ ุดุฏูโุงูุฏ ู ุดุงูู ุชูุงู ุจุฑุฑุณโูุง ุงููุช ู ูุฏุฑุช ุฎุทุงูุง ูุงุฒู ูุณุชูุฏ.
